<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>New Task - Project Management App</title>
	<link rel="stylesheet" href="/css/styles.css">
</head>

<body>
	<header>
		<h1>New Task</h1>
		<nav>
			<a th:href="@{/}">Home</a>
			<a th:href="@{/painel}">Dashboard</a>
			<a th:href="@{/Perfil}">Profile</a>
			<a th:href="@{/logout}">Logout</a>
		</nav>
	</header>
	<main>
		<section>
			<h2>Create a New Task</h2>
			<div th:if="${error}">
				<p th:text="${error}" style="color:red;"></p>
			</div>

			<div th:if="${message}">
				<p th:text="${message}" style="color:green;"></p>
			</div>
			<form th:action="@{/tasks/create}" th:object="${task}" method="post">
				<label for="taskName">Task Name:</label>
				<input type="text" id="taskName" name="name" th:field="*{titulo}" required>

				<label for="taskDescription">Description:</label>
				<textarea id="taskDescription" name="description" th:field="*{descricao}" required></textarea>

				<label for="project">Project:</label>
				<select id="project" name="projectId" th:field="*{projeto.id}" required>
					<option th:each="projeto : ${projects}" th:value="${projeto.id}" th:text="${projeto.nome}"></option>
				</select>

				<label for="status">Status:</label>
				<select id="status" name="status" th:field="*{status}">
					<option value="PENDING">Pending</option>
					<option value="IN_PROGRESS">In Progress</option>
					<option value="COMPLETED">Completed</option>
				</select>

				<button type="submit">Create Task</button>
			</form>
		</section>
	</main>
</body>

</html>